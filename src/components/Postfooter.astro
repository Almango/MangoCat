---
import { Icon } from 'astro-icon/components';
import { SiteConfig } from '../config';

export interface Props {
  post: any;
  prevPost: any | null;
  nextPost: any | null;
}

const { post, prevPost, nextPost } = Astro.props;
---

<!-- 文章结尾信息块 -->
<div class="article-footer-info">
  <div class="article-author">
    <p>
      <strong><Icon name="material-symbols:article-person" style="margin-right: 8px;" />作者：</strong>
      {post.data.author || SiteConfig.author}
    </p>
  </div>
  <div class="article-license">
    <p>
      <strong><Icon name="material-symbols:description" style="margin-right: 8px;" />许可协议：</strong>
      本文章采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 国际许可协议进行许可
    </p>
  </div>
  <div class="article-link">
    <p>
      <strong><Icon name="material-symbols:dataset-linked" style="margin-right: 8px;" />文章链接：</strong>
      <a href={`${SiteConfig.siteUrl}/posts/${post.slug}/`} target="_blank">{`${SiteConfig.siteUrl}/posts/${post.slug}/`}</a>
    </p>
  </div>
</div>

<!-- 上下篇文章导航 -->
<div class="article-navigation">
  {nextPost && (
    <a href={`/posts/${nextPost.slug}`} class="nav-link prev-post">
      <h3><Icon name="material-symbols:chevron-left-rounded" />上一篇</h3>
      <span>{nextPost.data.title}</span>
    </a>
  )}
  {prevPost && (
    <a href={`/posts/${prevPost.slug}`} class="nav-link next-post">
      <h3>下一篇<Icon name="material-symbols:chevron-right-rounded" /></h3>
      <span>{prevPost.data.title}</span>
    </a>
  )}
</div>

<style>
/* 文章结尾信息块样式 */
.article-footer-info {
    background-color: var(--card-bg);
    border: 1px solid var(--border-color);
    border-radius: 8px;
    padding: 20px;
    margin-top: 20px 0 20px;
    font-size: 14px;
    color: var(--text-color);
    line-height: 2;
}

.article-footer-info p {
    margin: 0;
    margin-bottom: 10px;
}

.article-footer-info p:last-child {
    margin-bottom: 0;
}

.article-footer-info strong {
    color: var(--text-color);
    font-weight: 600;
}

.article-footer-info a {
    color: var(--theme-color);
    text-decoration: none;
    transition: color 0.3s ease;
}

.article-footer-info a:hover {
    color: var(--theme-color);
    text-decoration: underline;
}

.article-footer-info p strong svg {
    width: 16px;
    height: 16px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    vertical-align: middle;
    color: var(--title-color);
    margin-right: 8px;
}

/* 文章导航样式 */
.article-navigation {
    display: flex;
    justify-content: space-between;
    margin: 30px 0 30px;
    gap: 20px;
    
}

.article-navigation .prev-post,
.article-navigation .next-post {
    flex: 1;
    /* background-color: var(--card-bg);
    border: 1px solid var(--border-color);
    border-radius: 8px; */
    padding: 15 0 15px;
    transition: all 0.3s ease;
}



.article-navigation h3 {
    font-size: 14px;
    color: var(--title-color);
    margin: 0 0 8px 0;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 5px;
}


.article-navigation .nav-link.next-post h3 {
    justify-content: flex-end;
}

.article-navigation h3 svg {
    width: 16px;
    height: 16px;
    color: var(--title-color);
    display: inline-flex;
    align-items: center;
    justify-content: center;
    vertical-align: middle;
    margin-bottom: 1px;
}

.article-navigation a {
    color: var(--text-color);
    text-decoration: none;
    font-size: 16px;
    font-weight: 500;
    line-height: 1.4;
    display: block;
    transition: color 0.3s ease;
}

.article-navigation a:hover {
    color: var(--theme-color);
}

.article-navigation .nav-link span {
    font-size: 16px;
    font-weight: 500;
    line-height: 1.4;
    display: block;
    color: inherit;
}

/* 下一篇文章名称靠右对齐 */
.article-navigation .nav-link.next-post span {
    text-align: right;
    text-overflow: ellipsis;
    white-space: nowrap;
    overflow: hidden;
}

/* 响应式设计 */
@media (max-width: 768px) {
    .article-navigation {
        flex-direction: column;
        gap: 15px;
    }
}
</style>